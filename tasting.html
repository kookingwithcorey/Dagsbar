<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DAGS | Tasting Sheet</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #050608;
      --bg-alt: #11141a;
      --accent: #0f8b6b;
      --accent-soft: rgba(15, 139, 107, 0.3);
      --text: #f7f7f7;
      --muted: #a3acb9;
      --border: rgba(255, 255, 255, 0.12);
      --radius-lg: 18px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #202735 0, #050608 55%);
      color: var(--text);
      line-height: 1.6;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .page {
      width: 100%;
      max-width: 1100px;
      padding: 24px 16px 40px;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
      gap: 16px;
    }

    .brand-title {
      font-size: 1.4rem;
      font-weight: 700;
      letter-spacing: 0.18em;
      text-transform: uppercase;
    }

    .brand-subtitle {
      font-size: 0.8rem;
      text-transform: uppercase;
      color: var(--muted);
      letter-spacing: 0.28em;
    }

    nav {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    nav a {
      font-size: 0.85rem;
      text-decoration: none;
      color: var(--muted);
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid transparent;
      transition: all 0.18s ease;
    }

    nav a.active {
      border-color: var(--accent-soft);
      background: rgba(15, 139, 107, 0.12);
      color: var(--text);
    }

    .card {
      background: rgba(10, 12, 18, 0.92);
      border-radius: 24px;
      border: 1px solid var(--border);
      padding: 20px 20px 24px;
      box-shadow: 0 18px 80px rgba(0, 0, 0, 0.6);
      position: relative;
      overflow: hidden;
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      gap: 16px;
      flex-wrap: wrap;
      margin-bottom: 16px;
    }

    button,
    .btn-secondary {
      border-radius: 999px;
      padding: 8px 16px;
      background: var(--accent);
      border: 0;
      color: #fff;
      cursor: pointer;
    }

    .btn-secondary {
      background: transparent;
      border: 1px solid var(--border);
      color: var(--muted);
    }

    input, textarea, select {
      background: rgba(255,255,255,0.02);
      border-radius: 999px;
      border: 1px solid var(--border);
      padding: 8px 12px;
      color: var(--text);
      width: 100%;
    }

    textarea {
      border-radius: 12px;
      min-height: 70px;
    }

    /* --- DARK GREY DROPDOWN --- */
    select {
      background: rgba(40, 44, 55, 0.55);
      color: var(--text);
      border: 1px solid var(--border);
    }

    select:focus {
      background: rgba(40, 44, 55, 0.85);
    }

    select option {
      background: #1a1d24;
      color: var(--text);
    }

    .metrics-section, .notes-section {
      border-radius: 18px;
      border: 1px solid var(--border);
      padding: 12px 14px;
      background: radial-gradient(circle at top left, rgba(255,255,255,0.02), transparent 50%);
    }

    .metrics-section label {
      color: var(--muted);
    }

    /* --- FLAVOR PROFILE --- */

    .flavor-profile-header {
      text-align: center;
      margin-bottom: 10px;
    }
    .flavor-profile-label { 
      color: var(--muted);
      font-size: 0.75rem;
      letter-spacing: 0.14em;
    }
    .flavor-profile-title {
      color: #ff5f3b;
      font-weight: 700;
      font-size: 1.1rem;
      letter-spacing: 0.08em;
    }

    .flavor-chart {
      position: relative;
      margin: 4px -4px 18px;
      padding: 0 4px 26px;
      overflow: hidden;
      height: 170px;
    }

    /* --- BIGGER, CENTERED LOGO --- */
    .flavor-chart::before {
      content: "";
      position: absolute;
      inset: 0;
      background: url("dags-new-logo.png") center/45% no-repeat;
      opacity: 0.10;
      pointer-events: none;
    }

    .flavor-chart svg {
      width: 100%;
      height: 150px;
      position: relative;
      z-index: 2;
    }

    .flavor-chart path.profile-line {
      fill: none;
      stroke: #ff5f3b;
      stroke-width: 3.5;
    }

    .flavor-chart line.profile-guide {
      stroke: rgba(255,255,255,0.18);
      stroke-width: 1;
      stroke-dasharray: 3 3;
    }

    .flavor-chart line.profile-tick {
      stroke: rgba(255,255,255,0.6);
      stroke-width: 1.4;
    }

    .flavor-chart circle.profile-point {
      r: 4;
      fill: #ff5f3b;
    }

    .flavor-chart-labels {
      position: absolute;
      left: 0;
      right: 0;
      bottom: -5px;
      display: flex;
      justify-content: space-between;
      font-size: 0.7rem;
      color: var(--muted);
      pointer-events: none;
      z-index: 3;
    }

    /* PRINT OPTIMIZATION */

    @media print {
      @page { margin: 0.3in; size: letter; }

      body { zoom: 0.9; background: white; }

      nav, .button-row { display: none !important; }

      .card {
        border: 1px solid #ccc;
        border-radius: 0;
        box-shadow: none;
        padding: 10px;
        page-break-inside: avoid;
      }

      .flavor-chart::before { opacity: 0.04; }

      .flavor-chart path,
      .flavor-chart line,
      .flavor-chart circle { stroke: #000; fill: #000; }
    }

  </style>
</head>

<body>
  <div class="page">
    <header>
      <div>
        <div class="brand-title">DAGS</div>
        <div class="brand-subtitle">Bourbon & Whiskey Lounge</div>
      </div>
      <nav>
        <a href="index.html">Home</a>
        <a href="menu.html">Whiskey List</a>
        <a href="menu-print.html">Printable Menu</a>
        <a href="tasting.html" class="active">Tasting Sheet</a>
        <a href="blind-tasting.html">Blind Tasting</a>
      </nav>
    </header>

    <main class="card">

      <div class="card-header">
        <div>
          <div class="card-title" style="font-size:1.3rem;font-weight:600;">Bourbon Tasting Sheet</div>
          <div class="card-subtitle" style="color:var(--muted);font-size:0.85rem;">
            Fill this out live at the bar, then print a clean one-page sheet.
          </div>
        </div>

        <div class="button-row">
          <button id="printBtn">Print Sheet</button>
          <button class="btn-secondary" id="clearBtn">Clear All</button>
        </div>
      </div>

      <form id="tastingForm">

        <div class="tasting-grid" style="display:grid;grid-template-columns:1.2fr 1.1fr;gap:20px;">

          <!-- LEFT SIDE -->
          <section>

            <div class="field-group" style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
              <div class="field">
                <label>Whiskey</label>
                <input id="whiskeyName" placeholder="e.g., 4R SiB Barrel" />
              </div>
              <div class="field">
                <label>Distillery</label>
                <input id="distillery" placeholder="e.g., MGP, BT, Four Roses" />
              </div>
            </div>

            <div class="field-group" style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
              <div class="field">
                <label>Age</label>
                <input id="age" type="number" min="0" />
              </div>
              <div class="field">
                <label>Proof</label>
                <input id="proof" type="number" min="0" />
              </div>
            </div>

            <div class="field-group" style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
              <div class="field">
                <label>Barrel / Batch</label>
                <input id="batch" />
              </div>
              <div class="field">
                <label>Price</label>
                <input id="price" placeholder="$-" />
              </div>
            </div>

            <!-- NOTES -->
            <section class="notes-section">
              <div class="section-title">Tasting Notes</div>

              <div class="notes-grid">

                <div class="notes-row" style="display:grid;grid-template-columns:80px 1fr;gap:10px;">
                  <div class="notes-label-pill">Nose</div>
                  <textarea id="nose"></textarea>
                </div>

                <div class="notes-row" style="display:grid;grid-template-columns:80px 1fr;gap:10px;">
                  <div class="notes-label-pill">Palate</div>
                  <textarea id="palate"></textarea>
                </div>

                <div class="notes-row" style="display:grid;grid-template-columns:80px 1fr;gap:10px;">
                  <div class="notes-label-pill">Finish</div>
                  <textarea id="finish"></textarea>
                </div>

                <div class="notes-row" style="display:grid;grid-template-columns:80px 1fr;gap:10px;">
                  <div class="notes-label-pill">Other</div>
                  <textarea id="other"></textarea>
                </div>

              </div>
            </section>

            <!-- OVERALL RATING -->
            <section class="metrics-section">
              <div class="section-title">Overall Rating</div>

              <div class="field">
                <label>Score (0–10)</label>
                <select id="rating">
                  <option value="">Select...</option>
                  <option>10 - Unreal / Must Hunt</option>
                  <option>9 - Exceptional</option>
                  <option>8 - Great</option>
                  <option>7 - Very Good</option>
                  <option>6 - Solid</option>
                  <option>5 - Average</option>
                  <option>4 - Below Average</option>
                  <option>3 - Pass</option>
                  <option>2 - Hard Pass</option>
                  <option>1 - Drain Pour</option>
                </select>
              </div>

              <div class="summary-chip-row" id="summaryChips"></div>
            </section>

          </section>

          <!-- RIGHT SIDE -->
          <section>

            <section class="metrics-section">

              <div class="flavor-profile-header">
                <div class="flavor-profile-label">FLAVOR PROFILE</div>
                <div class="flavor-profile-title" id="flavorProfileTitle">BALANCED</div>
              </div>

              <div class="flavor-chart">
                <svg id="flavorChart" viewBox="0 0 600 200" preserveAspectRatio="none"></svg>

                <div class="flavor-chart-labels">
                  <span>Smoky</span>
                  <span>Spicy</span>
                  <span>Herbal</span>
                  <span>Full</span>
                  <span>Rich</span>
                  <span>Sweet</span>
                  <span>Vanilla</span>
                  <span>Creamy</span>
                  <span>Oaky</span>
                  <span>Tart</span>
                  <span>Fruity</span>
                  <span>Floral</span>
                </div>
              </div>

              <div class="section-title">Flavor Metrics (0–5)</div>

              <!-- 12 METRICS -->
              <div class="metric-row"><label>Smoky</label><input id="smoky" type="range" min="0" max="5" value="0"><span id="smokyValue">0</span>/5</div>
              <div class="metric-row"><label>Spicy</label><input id="spicy" type="range" min="0" max="5" value="0"><span id="spicyValue">0</span>/5</div>
              <div class="metric-row"><label>Herbal</label><input id="herbal" type="range" min="0" max="5" value="0"><span id="herbalValue">0</span>/5</div>
              <div class="metric-row"><label>Full</label><input id="fullBody" type="range" min="0" max="5" value="0"><span id="fullBodyValue">0</span>/5</div>
              <div class="metric-row"><label>Rich</label><input id="rich" type="range" min="0" max="5" value="0"><span id="richValue">0</span>/5</div>
              <div class="metric-row"><label>Sweet</label><input id="sweet" type="range" min="0" max="5" value="0"><span id="sweetValue">0</span>/5</div>
              <div class="metric-row"><label>Vanilla</label><input id="vanilla" type="range" min="0" max="5" value="0"><span id="vanillaValue">0</span>/5</div>
              <div class="metric-row"><label>Creamy</label><input id="creamy" type="range" min="0" max="5" value="0"><span id="creamyValue">0</span>/5</div>
              <div class="metric-row"><label>Oaky</label><input id="oaky" type="range" min="0" max="5" value="0"><span id="oakyValue">0</span>/5</div>
              <div class="metric-row"><label>Tart</label><input id="tart" type="range" min="0" max="5" value="0"><span id="tartValue">0</span>/5</div>
              <div class="metric-row"><label>Fruity</label><input id="fruity" type="range" min="0" max="5" value="0"><span id="fruityValue">0</span>/5</div>
              <div class="metric-row"><label>Floral</label><input id="floral" type="range" min="0" max="5" value="0"><span id="floralValue">0</span>/5</div>

            </section>

          </section>

        </div>
      </form>

      <footer style="margin-top:10px;text-align:center;color:var(--muted);">
        DAGS Bourbon & Whiskey Lounge — For personal use only.
      </footer>

    </main>
  </div>

  <script>
    const sliderConfig = [
      "smoky", "spicy", "herbal", "fullBody", "rich", "sweet",
      "vanilla", "creamy", "oaky", "tart", "fruity", "floral"
    ];

    sliderConfig.forEach(id => {
      const slider = document.getElementById(id);
      const output = document.getElementById(id + "Value");

      slider.addEventListener("input", () => {
        output.textContent = slider.value;
        buildSummary();
      });
    });

    function updateFlavorChart(vals) {
      const svg = document.getElementById("flavorChart");
      const width = 600;
      const height = 200;
      const topPad = 25;
      const bottomPad = 40;
      const usableHeight = height - topPad - bottomPad;
      const yBase = height - bottomPad;

      const points = sliderConfig.map((id, i) => {
        const x = (i / (sliderConfig.length - 1)) * width;
        const ratio = vals[id] / 5;
        const y = yBase - ratio * usableHeight;
        return { x, y };
      });

      const path = points.map((p, i) => 
        `${i === 0 ? "M" : "L"} ${p.x} ${p.y}`
      ).join(" ");

      const guides = points.map(p => 
        `<line class="profile-guide" x1="${p.x}" y1="${yBase}" x2="${p.x}" y2="${p.y}"></line>`
      ).join("");

      const ticks = points.map(p => 
        `<line class="profile-tick" x1="${p.x}" y1="${yBase}" x2="${p.x}" y2="${yBase+6}"></line>`
      ).join("");

      const circles = points.map(p =>
        `<circle class="profile-point" cx="${p.x}" cy="${p.y}"></circle>`
      ).join("");

      svg.innerHTML = `<path class="profile-line" d="${path}"></path>` + guides + ticks + circles;
    }

    function updateFlavorProfile(vals) {
      const title = document.getElementById("flavorProfileTitle");
      const arr = sliderConfig.map(id => ({ id, v: vals[id] }));
      arr.sort((a,b) => b.v - a.v);

      if (arr[0].v === 0) { title.textContent = "BALANCED"; return; }

      if (Math.abs(arr[0].v - arr[1].v) <= 1 && arr[1].v > 0)
        title.textContent = `${arr[0].id.toUpperCase()} & ${arr[1].id.toUpperCase()}`;
      else
        title.textContent = arr[0].id.toUpperCase();
    }

    function buildSummary() {
      const vals = {};
      sliderConfig.forEach(id => vals[id] = Number(document.getElementById(id).value));

      updateFlavorChart(vals);
      updateFlavorProfile(vals);
    }

    document.getElementById("clearBtn").addEventListener("click", () => {
      sliderConfig.forEach(id => {
        document.getElementById(id).value = 0;
        document.getElementById(id+"Value").textContent = "0";
      });
      buildSummary();
    });

    document.getElementById("printBtn").addEventListener("click", () => {
      window.print();
    });

    buildSummary();
  </script>

</body>
</html>
